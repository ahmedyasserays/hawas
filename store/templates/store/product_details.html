{% extends 'base.html' %}
{% block content %}
    <div class="grid grid-cols-1 md:grid-cols-2 container mb-8">
        <section>
            <!-- Swiper -->
            <div style="--swiper-navigation-color: #fff;
                        --swiper-pagination-color: #fff"
                 class="swiper mySwiper2">
                <div class="swiper-wrapper">
                    {% for image in product.images.all %}
                        <div class="swiper-slide">
                            <img class="drop-shadow-lg"
                                 src="{{ image.img.url }}"
                                 alt="{{ product.name }}"/>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div thumbsSlider="" class="swiper mySwiper">
                <div class="swiper-wrapper">
                    {% for image in product.images.all %}
                        <div class="swiper-slide bg-white shadow-md rounded-md dark:bg-neutral-800 p-2 md:p-4">
                            <img src="{{ image.img.url }}" alt="{{ product.name }}" />
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>
        <section class="lg:pl-10 sm:w-full sm:mt-8 lg:mt-0 mt-8">
            <h4 class="font-bold text-ctwo mb-4 uppercase text-xs tracking-[.4em]">HAWAS store</h4>
            <h1 class="dark:text-white mb-4 font-bold text-3xl lg:text-4xl">{{ product.name }}</h1>
            <p class="text-gray-700 dark:text-gray-300 mb-6 text-base sm:text-lg">{{ product.describtion }}</p>
            <div class="colors flex gap-4 mb-4">
                <button class="rounded-full w-4 h-4 ring-offset-2 ring-2 ring-cone ring-offset-slate-50 dark:ring-offset-neutral-900 bg-gray-600">
                </button>
                <button class="rounded-full w-4 h-4 ring-offset-2 ring-2 ring-cone ring-offset-slate-50 dark:ring-offset-neutral-900 bg-blue-600">
                </button>
                <button class="rounded-full w-4 h-4 ring-offset-2 ring-2 ring-cone ring-offset-slate-50 dark:ring-offset-neutral-900 bg-yellow-600">
                </button>
                <button class="rounded-full w-4 h-4 ring-offset-2 ring-2 ring-cone ring-offset-slate-50 dark:ring-offset-neutral-900 bg-red-600">
                </button>
            </div>
            <div class="options flex gap-2 mb-4 dark:text-white">
                <button class="option uppercase border rounded border-gray-300 dark:border-gray-700 w-10 flex justify-center items-center h-10 active-option">
                    s
                </button>
                <button class="option uppercase border rounded border-gray-300 dark:border-gray-700 w-10 flex justify-center items-center h-10">
                    m
                </button>
                <button class="option uppercase border rounded border-gray-300 dark:border-gray-700 w-10 flex justify-center items-center h-10">
                    l
                </button>
            </div>
            <div class="flex dark:text-white  flex-col items-start justify-between mb-6 sm:flex-col sm:items-start">
                <div class="flex items-center gap-4">
                    <h3 class="white-lg font-bold text-3xl inline-block">125.00 EGP</h3>
                </div>
                <p class="w-fit  line-through decoration-1 my-auto">250.00 EGP</p>
            </div>
            <div>
                <div class="custom-number-input h-10 w-28">
                    <div class="dark:text-white flex flex-row h-10 w-full rounded-lg relative bg-transparent mt-1">
                        <button data-action="decrement"
                                class="h-full w-20 rounded-l cursor-pointer outline-none">
                            <span class="m-auto text-2xl font-thin">âˆ’</span>
                        </button>
                        <input type="number"
                               class="outline-none focus:outline-none text-center w-full bg-transparent text-lg text-md  md:text-basecursor-default flex items-center"
                               name="custom-input-number"
                               value="1"/>
                        <button data-action="increment" class="h-full w-20 rounded-r cursor-pointer">
                            <span class="m-auto text-2xl font-thin">+</span>
                        </button>
                    </div>
                </div>
                <div class="flex gap-4">
                    <button class="rounded-md h-12 bg-gradient-to-b from-cone to-ctwo dark:from-ctwo dark:to-cthree text-white py-2 px-4 md:px-8 sm-w-full flex items-center justify-center mt-4 gap-4"
                            id="add-cart">
                        <i class="far fa-cart-plus"></i>
                        Add To Cart
                    </button>
                    <button class="rounded-md h-12 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-red-500 dark:text-red-700 py-2 px-4 md:px-6 sm-w-full flex items-center justify-center  text-lg mt-4 gap-4">
                        <i class="fas fa-heart"></i>
                    </button>
                    <button class="rounded-md h-12 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 text-green-500 dark:text-green-700 py-2 px-4 md:px-6 sm-w-full flex items-center justify-center  text-lg mt-4 gap-4"
                            onclick="handleShare('https:\/\/google.com', 'share')">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            </div>
        </section>
    </div>
    <hr class="h-1 w-[50%] mx-auto my-4 bg-gray-300 border-0 rounded md:my-10 dark:bg-neutral-700">
    {% if product.related_products.exists %}
        <section class="container dark:text-white mb-8">
            <h2 class="text-3xl font-bold capitalize mb-4">related products</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                {% for prod in product.related_products.all %}
                    <div class="box rounded-lg shadow-lg overflow-hidden">
                        <div class="imgBx relative overflow-hidden bg-gray-500/25 dark:bg-gray-50/25">
                            <div class="btns transition absolute flex gap-4 flex-col top-4 right-4 z-10">
                                <a href="#"
                                   class="p-2 md:p-3 shadow-md rounded bg-cthree dark:bg-cone text-cone dark:text-cthree"><i class="fas fa-heart"></i></a>
                                <a href="#"
                                   data-url="{% url 'product_details' prod.slug %}"
                                   class="p-2 md:p-3 shadow-md rounded bg-cthree dark:bg-cone text-cone dark:text-cthree"><i class="fas fa-share"></i></a>
                            </div>
                            <img src="{{ prod.first_image.0.img.url }}" alt="" />
                        </div>
                        <div class="flex flex-col gap-2 bg-cone dark:bg-cfour text-cfour dark:text-cone p-2 md:p-4">
                            <a href="{% url 'product_details' prod.slug %}"
                               class="text-xl md:text-xl md:text-2xl hover:underline">{{ prod.name }}
                                <i class="fas fa-link text-sm"></i></a>
                            <p class="opacity-80">{{ prod.describtion|truncatewords:5 }}</p>
                            <h4 class="text-xl font-bold">{{ prod.price|floatformat:2 }} EGP</h4>
                            <button class="w-full p-2 md:p-4 text-center bg-cthree hover:scale-105 transition text-cone rounded-md">
                                Add to cart
                            </button>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </section>
    {% endif %}
{% endblock content %}
{% block scripts %}
    <script>
    // document.querySelector("textarea").
    const swiper = new Swiper(".mySwiper", {
        loop: true,
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesProgress: true,
    });
    const swiper2 = new Swiper(".mySwiper2", {
        loop: true,
        spaceBetween: 10,
        thumbs: {
            swiper: swiper,
        },
    });
    </script>
{% endblock scripts %}
